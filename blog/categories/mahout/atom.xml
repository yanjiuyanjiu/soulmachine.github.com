<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: mahout, | 研究研究]]></title>
  <link href="http://www.yanjiuyanjiu.com/blog/categories/mahout/atom.xml" rel="self"/>
  <link href="http://www.yanjiuyanjiu.com/"/>
  <updated>2013-12-23T17:40:53+08:00</updated>
  <id>http://www.yanjiuyanjiu.com/</id>
  <author>
    <name><![CDATA[soulmachine]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[运行mahout的朴素贝叶斯分类器]]></title>
    <link href="http://www.yanjiuyanjiu.com/blog/20131223"/>
    <updated>2013-12-23T17:20:00+08:00</updated>
    <id>http://www.yanjiuyanjiu.com/blog/run-mahout-nbc</id>
    <content type="html"><![CDATA[<h2 id="section">1.准备数据</h2>

<h3 id="section-1">1.1 下载数据集，并解压</h3>

<pre><code>wget http://people.csail.mit.edu/jrennie/20Newsgroups/20news-bydate.tar.gz
tar -xf 20news-bydate.tar.gz
#上传到hdfs
hadoop fs -put 20news-bydate-test .
hadoop fs -put 20news-bydate-train .
</code></pre>

<h3 id="section-2">1.2 转换格式</h3>

<pre><code>#转换为序列文件(sequence files)
mahout seqdirectory -i 20news-bydate-train -o 20news-bydate-train-seq
mahout seqdirectory -i 20news-bydate-test -o 20news-bydate-test-seq
#转换为tf-idf向量
mahout seq2sparse -i 20news-bydate-train-seq -o 20news-bydate-train-vector -lnorm -nv -wt tfidf
mahout seq2sparse -i 20news-bydate-test-seq -o 20news-bydate-test-vector -lnorm -nv -wt tfidf
</code></pre>

<h2 id="section-3">2. 训练朴素贝叶斯模型</h2>

<pre><code>mahout trainnb -i 20news-bydate-train-vectors/tfidf-vectors -el -o model -li labelindex -ow
</code></pre>

<h2 id="section-4">3. 测试朴素贝叶斯模型</h2>

<pre><code>mahout testnb -i 20news-bydate-train-vectors/tfidf-vectors -m model -l labelindex -ow -o test-result
</code></pre>

]]></content>
  </entry>
  
</feed>
